{"version":3,"file":"p__resource-library__domain-library__models__edit.js.6b3d6b26.async.js","sources":["src/pages/resource-library/domain-library/models/edit.js"],"sourcesContent":["import { message } from 'antd'\nimport router from 'umi/router'\nimport { getSubjectList, getDetail, getEdit } from '../api'\n\nexport default {\n  namespace: 'domainLibraryEdit',\n  state: {\n    initData: null,\n    subjectList: [],\n  },\n  effects: {\n    * getSubjectList({ params }, { call, put }) {\n      const subjectList = yield call(getSubjectList, params)\n      yield put({\n        type: 'save',\n        payload: {\n          subjectList,\n        },\n      })\n    },\n    // 查详情\n    * getDetail({ params }, { call, put }) {\n      const initData = yield call(getDetail, params)\n      yield put({\n        type: 'save',\n        payload: {\n          initData,\n        },\n      })\n    },\n    // 更新\n    * getEdit({ params }, { call, put }) {\n      const res = yield call(getEdit, params)\n      if (res) {\n        message.success('操作成功')\n        router.push('/resource-library/domain-library')\n      } else {\n        message.error('操作失败')\n      }\n    },\n  },\n  reducers: {\n    save(state, { payload }) {\n      return {\n        ...state,\n        ...payload,\n      }\n    },\n  },\n}\n"],"mappings":"AAIA","sourceRoot":""}