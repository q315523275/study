{"version":3,"file":"p__feedback-manage__feedback__models__model.js.ef43c271.async.js","sources":["src/pages/feedback-manage/feedback/models/model.js"],"sourcesContent":["import { message } from 'antd'\nimport { getListData,getEnclosureList } from '../api'\n\nexport default {\n  namespace: 'feedback',\n  state: {\n    listData: [], // 数据\n    enclosureList:[]\n  },\n  effects: {\n    // 获取数据\n    * getListData({ params }, { call, put }) {\n      const {success,data:{data,total,pageNumber,pageSize}} = yield call(getListData, params)\n      yield put({\n        type: 'save',\n        payload: {\n          listData: data || [],\n          pagination: {\n            current: pageNumber,\n            pageSize,\n            total,\n            showTotal: sum => `共 ${sum} 项`,\n          },\n        },\n      })\n    },\n     // 获取附件列表\n     * getEnclosureList({ params }, { call, put }) {\n      const {success,data} = yield call(getEnclosureList, params)\n      yield put({\n        type: 'save',\n        payload: {\n          enclosureList:data\n        },\n      })\n    },\n  },\n  reducers: {\n    save(state, { payload }) {\n      return {\n        ...state,\n        ...payload,\n      }\n    },\n  },\n}\n"],"mappings":"AAGA","sourceRoot":""}