{"version":3,"file":"p__message-manage__column-maintain__models__add.js.ee922192.async.js","sources":["src/pages/message-manage/column-maintain/models/add.js"],"sourcesContent":["import { message } from 'antd'\nimport router from 'umi/router'\nimport { getAdd, getModulesList, getPagesList } from '../api'\n\nexport default {\n  namespace: 'columnMaintainAdd',\n  state: {\n    modulesList: [],\n    pagesList: [],\n  },\n  effects: {\n    * getModulesList({ params }, { call, put }) {\n      const modulesList = yield call(getModulesList, params)\n      yield put({\n        type: 'save',\n        payload: {\n          modulesList,\n        },\n      })\n    },\n\n    * getPagesList({ params }, { call, put }) {\n      const pagesList = yield call(getPagesList, params)\n      yield put({\n        type: 'save',\n        payload: {\n          pagesList,\n        },\n      })\n    },\n    // 新增\n    * getAdd({ params }, { call, put }) {\n      const res = yield call(getAdd, params)\n      console.log(res)\n      if (res.success) {\n        message.success('操作成功')\n        router.push('/message-manage/column-maintain')\n      } else {\n        message.error('操作失败')\n      }\n    },\n\n\n  },\n  reducers: {\n    save(state, { payload }) {\n      return {\n        ...state,\n        ...payload,\n      }\n    },\n  },\n}\n"],"mappings":"AAIA","sourceRoot":""}