(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[21],{hHeg:function(e,n,t){"use strict";t.r(n);t("miYZ");var r=t("tsqr"),a=t("d6i3"),i=t.n(a),u=t("p0pE"),o=t.n(u),c=t("3a4m"),s=t.n(c),p=t("pxg3");n["default"]={namespace:"informationPublishEdit",state:{modulesList:[],itemsList:[],resourceList:[],chooseType:"",listData:[],pagination:{},initData:null},effects:{getDetail:i.a.mark(function e(n,t){var r,a,u,c,s,f,d,m,l;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.params,a=n.cb,u=t.call,c=t.put,e.next=4,u(p["e"],r);case 4:return s=e.sent,f=s.itemId,s.resource,d=s.moduleId,e.next=8,u(p["c"],{id:f});case 8:return m=e.sent,l=m.infoItem,a&&a(d),e.next=13,c({type:"save",payload:{initData:o()({},s,{infoItem:l})}});case 13:case"end":return e.stop()}},e)}),getModulesList:i.a.mark(function e(n,t){var r,a,u,o;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.params,a=t.call,u=t.put,e.next=4,a(p["i"],r);case 4:return o=e.sent,e.next=7,u({type:"save",payload:{modulesList:o}});case 7:case"end":return e.stop()}},e)}),getItemsList:i.a.mark(function e(n,t){var r,a,u,o,c;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.params,a=n.chooseType,u=t.call,o=t.put,e.next=4,u(p["g"],r);case 4:return c=e.sent,e.next=7,o({type:"save",payload:{itemsList:c,resourceList:[],chooseType:a}});case 7:case"end":return e.stop()}},e)}),getResource:i.a.mark(function e(n,t){var r,a,u,c,s,f,d,m,l,g,v,h;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=n.params,a=t.call,u=t.put,c=t.select,e.next=4,c(function(e){var n=e.informationPublishEdit;return o()({},n)});case 4:return s=e.sent,f=s.chooseType,console.log(f),d={university:function(){return a(p["n"],r)},subject:function(){return a(p["k"],r)},universitySubject:function(){return a(p["p"],r)},universityCase:function(){return a(p["o"],r)},summerProject:function(){return a(p["l"],r)},background:function(){return a(p["b"],r)}},e.next=10,d[f]();case 10:return m=e.sent,l=m.data,g=m.total,v=m.pageNumber,h=m.pageSize,delete r.pageNumber,delete r.pageSize,e.next=16,u({type:"save",payload:{listData:l||[],pagination:{current:v,pageSize:h,total:g,showTotal:function(e){return"\u5171 ".concat(e," \u9879")}},query:o()({},r)}});case 16:case"end":return e.stop()}},e)}),getEdit:i.a.mark(function e(n,t){var a,u,o;return i.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a=n.params,u=t.call,t.put,console.log(a),e.next=5,u(p["f"],a);case 5:o=e.sent,console.log(o),o.success?(r["a"].success("\u64cd\u4f5c\u6210\u529f"),s.a.push("/message-manage/information-publish")):r["a"].error("\u64cd\u4f5c\u5931\u8d25");case 8:case"end":return e.stop()}},e)})},reducers:{save:function(e,n){var t=n.payload;return o()({},e,t)}}}},pxg3:function(e,n,t){"use strict";t.d(n,"c",function(){return m}),t.d(n,"h",function(){return u}),t.d(n,"a",function(){return c}),t.d(n,"f",function(){return s}),t.d(n,"e",function(){return d}),t.d(n,"d",function(){return o}),t.d(n,"i",function(){return a}),t.d(n,"g",function(){return i}),t.d(n,"m",function(){return f}),t.d(n,"j",function(){return p}),t.d(n,"n",function(){return l}),t.d(n,"k",function(){return g}),t.d(n,"p",function(){return v}),t.d(n,"o",function(){return h}),t.d(n,"l",function(){return w}),t.d(n,"b",function(){return y});var r=t("oT5p"),a=function(e){return r["a"].get("/api/admin/infoItem/modules",e)},i=function(e){return r["a"].get("/api/admin/infoItem/modules",e)},u=function(e){return r["a"].get("/api/admin/infoItem/resources",e)},o=function(e){return r["a"].delete("/api/admin/infoItem/resources",e,!0)},c=function(e){return r["a"].post("/api/admin/infoItem/resources",e,!0)},s=function(e){return r["a"].put("/api/admin/infoItem/resources/".concat(e.id),e,!0)},p=function(e){return r["a"].post("/api/admin/infoItem/resources",e,!0)},f=function(e){return r["a"].post("/api/admin/infoItem/resources",e,!0)},d=function(e){return r["a"].get("/api/admin/infoItem/resources/".concat(e.id),e)},m=function(e){return r["a"].get("/api/admin/infoItem/items/".concat(e.id),e)},l=function(e){return r["a"].get("/api/admin/university",e)},g=function(e){return r["a"].get("/api/admin/subject",e)},v=function(e){return r["a"].get("/api/admin/universitySubject",e)},h=function(e){return r["a"].get("/api/admin/universityCase",e)},w=function(e){return r["a"].get("/api/admin/summerProject",e)},y=function(e){return r["a"].get("/api/admin/background",e)}}}]);
//# sourceMappingURL=p__message-manage__information-publish__models__edit.js.ec310d55.async.js.map